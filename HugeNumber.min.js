var HugeNumber=function(){function s(r,t,i){if(t<=1||1===i)return Math.pow(r,t);for(var n=s(r,t%1,i),e=0;e<Math.floor(t);e++)n=s(r,n,i-1);return n}function e(r,t,i){if(t<=r||1===i)return Math.log10(t)/Math.log10(r);for(var n=0;r<=t;)t=e(r,t,i-1),n++;return n+=e(r,t,i-1)}class a{constructor(r,t){if(void 0===t){var i=r;if("number"==typeof i)this.sign=i<0||Object.is(i,-0)?-1:1,this.array=[Math.log10(Math.abs(i))];else if("string"==typeof i){i=i.toLowerCase(),this.sign=1,"-"===i[0]&&(this.sign=-1,i=i.slice(1));for(var n=i.split("e").map(Number),e=new a(Number(n[n.length-1])),s=n.length-2;0<=s;s--)e=new a(Number(n[s])).mul(e.exp10());this.array=e.array}else i instanceof a&&(this.sign=i.sign,this.array=i.array)}else this.sign=r,this.array=t,this.normalize()}normalize(){if(this.array.length>a.MAX_ARRAY_LENGTH)throw new Error("exceeded max array length");for(;2===this.array.length&&this.array[0]<e(10,Number.MAX_VALUE,this.array[1])+1&&1<this.array[1];)this.array[0]=s(10,this.array[0]-1,this.array[1]),this.array[1]=this.array[1]-1;this.array.includes(1)&&(this.array=this.array.slice(0,this.array.indexOf(1))),this.array.length||this.array.push(1)}clone(){return new a(this.sign,this.array)}abs(){return new a(1,this.array)}neg(){return new a(-this.sign,this.array)}add(r){return r instanceof a||(r=new a(r)),-1===this.sign&&-1===r.sign?this.neg().add(r.neg()).neg():-1===this.sign&&1===r.sign?this.neg().sub(r).neg():1===this.sign&&-1===r.sign?this.sub(r.neg()):1===this.array.length&&1===r.array.length?(t=Math.log10(1+Math.pow(10,r.array[0]-this.array[0])),Number.isFinite(t)?new a(1,[this.array[0]+t]):r):this.max(r);var t}sub(r){return r instanceof a||(r=new a(r)),this.lt(r)?r.sub(this).neg():this.eq(r)?a.ZERO:-1===this.sign&&-1===r.sign?this.neg().sub(r.neg()).neg():-1===this.sign&&1===r.sign?this.neg().add(r).neg():1===this.sign&&-1===r.sign?this.add(r.neg()):1===this.array.length&&1===r.array.length?(t=Math.log10(Math.abs(1-Math.pow(10,r.array[0]-this.array[0]))),Number.isFinite(t)?new a(1,[this.array[0]+t]):r):this.max(r);var t}mul(r){return r instanceof a||(r=new a(r)),1===this.array.length&&1===r.array.length?new a(this.sign*r.sign,[this.array[0]+r.array[0]]):new a(this.sign*r.sign,this.abs().log10().add(r.abs().log10()).exp10().array)}div(r){return r instanceof a||(r=new a(r)),1===this.array.length&&1===r.array.length?new a(this.sign*r.sign,[this.array[0]-r.array[0]]):new a(this.sign*r.sign,this.abs().log10().sub(r.abs().log10()).exp10().array)}mod(r){return r instanceof a||(r=new a(r)),this.abs().sub(this.abs().div(r).floor().mul(r))}exp10(){var r=this.toNumber();return-1===this.s?new a(1).div(this.neg().exp10()):Number.isFinite(r)?new a(1,[r]):1===this.array.length?new a(1,[e(10,this.array[0],2)+2,2]):2===this.array.length&&2===this.array[1]?new a(1,[this.array[0]+1,2]):this}exp(){return a.E.pow(this)}pow(r){return-1===(r=r instanceof a?r:new a(r)).sign?a.ONE.div(this.pow(r.neg())):-1===this.sign&&r.mod(1).ne(0)?new a(NaN):-1===this.sign&&r.mod(2).round().eq(1)?r.mul(this.log10()).exp10().neg():r.mul(this.log10()).exp10()}sqrt(){return this.pow(.5)}cbrt(){return this.pow(1/3)}log10(){return 1===this.array.length?new a(this.array[0]):2===this.array.length&&2===this.array[1]?new a(1,[this.array[0]-1,2]):this}log(){return this.logb(Math.E)}logb(r){return r instanceof a||(r=new a(r)),this.log10().div(r.log10())}floor(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.floor(r)):this}ceil(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.ceil(r)):this}round(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.round(r)):this}sin(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.sin(r)):new a(NaN)}cos(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.cos(r)):new a(NaN)}tan(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.tan(r)):new a(NaN)}asin(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.asin(r)):new a(NaN)}acos(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.acos(r)):new a(NaN)}atan(){var r=this.toNumber();return Number.isFinite(r)?new a(Math.atan(r)):new a(NaN)}cmp(r){if(r instanceof a||(r=new a(r)),-1===this.sign&&-1===r.sign)return-this.neg().cmp(r).neg;if(-1===this.sign&&1===r.sign)return-1;if(1===this.sign&&-1===r.sign)return 1;if(this.array.length<r.array.length)return-1;if(this.array.length>r.array.length)return 1;for(var t=this.array.length-1;0<=t;t--){if(this.array[t]>r.array[t])return 1;if(this.array[t]<r.array[t])return-1}return 0}eq(r){return r instanceof a||(r=new a(r)),0===this.cmp(r)}ne(r){return r instanceof a||(r=new a(r)),0!==this.cmp(r)}lt(r){return r instanceof a||(r=new a(r)),this.cmp(r)<0}le(r){return r instanceof a||(r=new a(r)),this.cmp(r)<=0}gt(r){return r instanceof a||(r=new a(r)),0<this.cmp(r)}ge(r){return r instanceof a||(r=new a(r)),0<=this.cmp(r)}min(r){return r instanceof a||(r=new a(r)),this.gt(r)?this:r}max(r){return r instanceof a||(r=new a(r)),this.gt(r)?this:r}toNumber(){if(this.array.length<=2)try{return s(10,this.array[0],this.array[1]||1)}catch(r){return this.sign*(1/0)}return this.sign*(1/0)}toString(){var r=this.toNumber();return-1===this.sign?"-"+this.neg().toString():(r=r,Number.isFinite(r)&&r||this.eq(0)||this.eq(1/0)?this.toNumber().toString():this.lt(new a(1,[7,2]))?this.toExponential():2===this.array.length&&this.array[1]<6?this.toArrow():this.toChainedArrow())}toExponential(){var r=this.log10(),t=r.toNumber(),i=1===r.sign?"+":"-";return Number.isFinite(t)?Math.pow(10,t-Math.floor(t)).toString()+"e"+i+Math.floor(t).toString():r.sub(r.floor()).exp10().toString()+"e"+i+r.floor().toString()}toArrow(){return"10"+"^".repeat(this.array[1])+this.array[0]}toChainedArrow(){return"10 -> "+this.array.join(" -> ")}}return a.ZERO=new a(0),a.ONE=new a(1),a.E=new a(Math.E),a.PI=new a(Math.PI),a.TEN=new a(10),a.MAX_ARRAY_LENGTH=1e3,a}();"object"==typeof module&&(module.exports=HugeNumber);